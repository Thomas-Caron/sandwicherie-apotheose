(this.webpackJsonpbackoffice=this.webpackJsonpbackoffice||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/logo-brand.f8d6ce72.png"},110:function(e,t,a){e.exports=a(264)},119:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},139:function(e,t,a){},246:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(18),r=a.n(o),s=a(19),i=a(3);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(119),a(120);var m=a(2),u=(a(121),a(101)),l=a.n(u),d=(a(122),function(e){var t=e.getLogin,a=e.errorLog,o=e.username,r=e.password,s=e.setPasswordValue,i=e.setUsernameValue;Object(n.useEffect)((function(){document.title="Messieurs Croquent || Back Office - Connexion"}),[]);return c.a.createElement("div",{className:"login"},c.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),t()}},c.a.createElement("img",{src:l.a,alt:"brand",className:"login__brand"}),c.a.createElement("input",{value:o,onChange:function(e){i(e.target.value)},type:"text",className:"login__email",placeholder:"Utilisateur"}),c.a.createElement("input",{value:r,onChange:function(e){s(e.target.value)},type:"password",className:"login__password",placeholder:"Mot de passe"}),c.a.createElement("p",{className:a?"login__error":"login__error--none"},"Votre nom d'utilisateur ou votre mot de passe est incorrect"),c.a.createElement("button",{type:"submit",className:"login__submit"},"Se connecter")))}),p=Object(i.b)((function(e){return{username:e.login.username,password:e.login.password,errorLog:e.login.errorLog}}),(function(e){return{getLogin:function(){return e({type:"GET_LOGIN"})},setUsernameValue:function(t){return e(function(e){return{type:"SET_USERNAME_VALUE",username:e}}(t))},setPasswordValue:function(t){return e(function(e){return{type:"SET_PASSWORD_VALUE",password:e}}(t))}}}))(d),E=(a(123),function(e){var t=e.getLogout,a=e.getStatus,o=e.modifyStatus,r=e.editStatus,s=e.status,i=e.isOpen;Object(n.useEffect)((function(){a()}));return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__title"},"MESSIEURS CROQUENT - BackOffice"),c.a.createElement("button",{className:i?"header__open":"header__close",onClick:function(){"FERM\xc9"===s?o("OUVERT",!0):"OUVERT"===s&&o("FERM\xc9",!1),r()}},c.a.createElement("i",{className:"fa fa-clock"}),i?"OUVERT":"FERM\xc9"),c.a.createElement("button",{className:"header__logout",onClick:function(){t(),window.sessionStorage.clear()}},c.a.createElement("i",{className:"fas fa-power-off"}),"D\xe9connexion"))}),f=function(e,t){return{type:"SAVE_STATUS",status:e,bool:t}},_=Object(i.b)((function(e){return{isOpen:e.header.isOpen,status:e.header.status}}),(function(e){return{getLogout:function(){return e({type:"GET_LOGOUT"})},getStatus:function(){return e({type:"GET_STATUS"})},editStatus:function(){return e({type:"EDIT_STATUS"})},modifyStatus:function(t,a){return e(function(e,t){return{type:"MODIFY_STATUS",status:e,bool:t}}(t,a))}}}))(E),g=a(102),h=(a(139),function(e){var t=e.links;return c.a.createElement(g.bubble,null,t.map((function(e){return c.a.createElement(s.b,{key:e.id,to:e.path,activeClassName:"bm-item-selected",exact:!0},c.a.createElement("i",{className:e.icon}),c.a.createElement("span",{className:"bm-item-link"},e.name))})))}),N=Object(i.b)((function(e){return{links:e.sidebar.links}}),(function(e){}))(h),b=a(268),O=(a(41),function(e){var t=e.productCurrent;return console.log(t),c.a.createElement("tr",{className:"product__tr"},c.a.createElement("td",{className:"product__image--td"},c.a.createElement("img",{className:"product__image",src:t.picture,alt:"croque"})),c.a.createElement("td",{className:"product__dish--td"},c.a.createElement("p",{className:"product__dish"},t.name)),c.a.createElement("td",{className:"product__category--td"},c.a.createElement("p",{className:"product__category"},t.category.name)),c.a.createElement("td",{className:"product__description--td"},c.a.createElement("p",{className:"product__description"},t.description)),c.a.createElement("td",{className:"product__price--td"},c.a.createElement("p",{className:"product__price"},t.price,"\u20ac")),c.a.createElement("td",{className:"product__satus--td"},c.a.createElement(b.a,{onClick:function(){return console.log("coucou")},toggle:!0,className:"product__status"})),c.a.createElement("td",{className:"product__delete--td"},c.a.createElement("button",{className:"product__delete"},c.a.createElement("i",{class:"fas fa-trash-alt"}))))}),S=function(e){var t=e.categories,a=e.products;return c.a.createElement("div",{className:"product__container"},t.map((function(e){var t=a.filter((function(t){return t.category.id===e.id}));return c.a.createElement("div",{className:"product__byCategory",key:e.id},c.a.createElement("p",{className:"product__titleCategory"},e.name),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",{className:"product__tr"},c.a.createElement("td",{className:"product__image--td"},c.a.createElement("p",{className:"product__image--th"},"Image")),c.a.createElement("td",{className:"product__dish--td"},c.a.createElement("p",{className:"product__dish--th"},"Produit")),c.a.createElement("td",{className:"product__category--td"},c.a.createElement("p",{className:"product__category--th"},"Cat\xe9gorie")),c.a.createElement("td",{className:"product__description--td"},c.a.createElement("p",{className:"product__description--th"},"Description")),c.a.createElement("td",{className:"product__price--td"},c.a.createElement("p",{className:"product__price--th"},"Prix")),c.a.createElement("td",{className:"product__status--td"},c.a.createElement("p",{className:"product__status--th"},"Statut")),c.a.createElement("td",{className:"product__delete--td"},c.a.createElement("p",{className:"product__delete--th"},"Supprimer")))),t.map((function(e){return c.a.createElement("tbody",{key:e.id},c.a.createElement(O,{productCurrent:e}))}))))})))},v=function(e){var t=e.products,a=e.getProduct,o=e.categories,r=e.getCategories;return Object(n.useEffect)((function(){a(),r(),document.title="Messieurs Croquent || Back Office - Produits"}),[]),c.a.createElement("main",{className:"product"},c.a.createElement("h1",{className:"product__title"},"Modifier ou supprimer des produits"),c.a.createElement(S,{categories:o,products:t}))},C=Object(i.b)((function(e,t){return{products:e.product.listProduct,categories:e.product.listCategories}}),(function(e,t){return{getProduct:function(){return e({type:"GET_PRODUCT"})},getCategories:function(){return e({type:"GET_CATEGORIES"})}}}))(v),T=(a(91),function(e){var t=e.getCommand,a=e.commands;return Object(n.useEffect)((function(){t()}),[]),c.a.createElement("div",{className:"command"},a.map((function(e){return c.a.createElement("div",{className:"command__container"},c.a.createElement("p",{className:"command__number"},"Commande n\xb0",e.id),c.a.createElement("p",{className:"command__infosUser"},"Informations du client :"),c.a.createElement("div",{className:"command__user"},c.a.createElement("p",{className:"command__infos"},"Pr\xe9nom: ",e.user.firstname),c.a.createElement("p",{className:"command__infos"},"Nom: ",e.user.lastname),c.a.createElement("p",{className:"command__infos"},"Email: ",e.user.email),c.a.createElement("p",{className:"command__infos"},"T\xe9l\xe9phone: ",e.user.phoneNumber)),c.a.createElement("p",{className:"command__infosCommand"},"D\xe9tail de la commande :"),e.orderLines.map((function(e){return c.a.createElement("p",{className:"command__detail"},e.quantity," ",e.product.name)})),c.a.createElement("p",{className:"command__infosComment"},"Commentaire :"),c.a.createElement("p",{className:"command__comment"},e.comment),c.a.createElement("p",{className:"command__infosPrice"},"Prix total de la commande :"),c.a.createElement("p",{className:"command__price"},e.price," \u20ac"))})))}),k=function(e){var t=e.getCommand,a=e.commands;return Object(n.useEffect)((function(){document.title="Messieurs Croquent || Back Office - Commandes"}),[]),c.a.createElement("main",{className:"commandList"},c.a.createElement("h1",{className:"commandList__command"},"Les commandes en cours"),c.a.createElement(T,{getCommand:t,commands:a}))},y=Object(i.b)((function(e,t){return{commands:e.command.listCommand}}),(function(e,t){return{getCommand:function(){return e({type:"GET_COMMAND"})}}}))(k),w=(a(246),function(e){var t=e.links;return Object(n.useEffect)((function(){document.title="Messieurs Croquent || Back Office - Accueil"}),[]),c.a.createElement("div",{className:"home"},c.a.createElement("div",{className:"home__container"},c.a.createElement("h1",{className:"home__title"},"Bienvenue sur votre outil de gestion de commande."),c.a.createElement("p",{className:"home__text"},"Pour consulter les produits ou les commandes en cours du restaurant, cliquer sur un des boutons ci-dessous ou dans le menu d\xe9roulant situ\xe9 sur la gauche"),c.a.createElement("div",{className:"home__link"},c.a.createElement(s.b,{to:t[2].path,exact:!0},c.a.createElement("button",{className:"home__button"},c.a.createElement("i",{className:t[2].icon}),c.a.createElement("span",{className:"bm-item-link"},t[2].name))),c.a.createElement(s.b,{to:t[1].path,exact:!0},c.a.createElement("button",{className:"home__button"},c.a.createElement("i",{className:t[1].icon}),c.a.createElement("span",{className:"bm-item-link"},t[1].name))))))}),L=Object(i.b)((function(e){return{links:e.sidebar.links}}),(function(e){}))(w),A=function(e){var t=e.isLogged,a=e.checkIsLogged;return Object(n.useEffect)((function(){a()}),[]),c.a.createElement("div",{className:"App"},!t&&c.a.createElement(p,null),t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(_,null),c.a.createElement(N,null),c.a.createElement(m.c,null),c.a.createElement(m.a,{exact:!0,path:"/backoffice",component:L}),c.a.createElement(m.a,{exact:!0,path:"".concat("/backoffice","/produits"),component:C}),c.a.createElement(m.a,{exact:!0,path:"".concat("/backoffice","/commandes"),component:y}),c.a.createElement(m.c,null)))},G=Object(i.b)((function(e){return{isLogged:e.login.isLogged}}),(function(e){return{checkIsLogged:function(){return e({type:"CHECK_IS_LOGGED"})}}}))(A),U=a(20),R=a(4),j={errorLog:!1,isLogged:!1,username:"",password:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_LOGIN":return Object(R.a)({},e);case"CHECK_IS_LOGGED":return void 0!==window.sessionStorage.token?Object(R.a)({},e,{isLogged:!0}):Object(R.a)({},e);case"ERROR_LOGGED":return Object(R.a)({},e,{errorLog:!0});case"GET_LOGOUT":return Object(R.a)({},e,{isLogged:!1});case"SET_USERNAME_VALUE":return Object(R.a)({},e,{username:t.username});case"SET_PASSWORD_VALUE":return Object(R.a)({},e,{password:t.password});default:return e}},M={isOpen:"",status:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"MODIFY_STATUS":case"SAVE_STATUS":return Object(R.a)({},e,{status:t.status,isOpen:t.bool});default:return e}},P={links:[{id:1,name:"Accueil",path:"/backoffice",icon:"fas fa-home"},{id:2,name:"Produits",path:"".concat("/backoffice","/produits"),icon:"fas fa-box"},{id:3,name:"Commandes",path:"".concat("/backoffice","/commandes"),icon:"fas fa-shopping-cart"}]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e},x={listProduct:[],listCategories:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_PRODUCT":return Object(R.a)({},e,{listProduct:t.product});case"SAVE_CATEGORIES":return Object(R.a)({},e,{listCategories:t.categories});default:return e}},q={listCommand:[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_COMMAND":return Object(R.a)({},e,{listCommand:t.command});default:return e}},z=Object(U.c)({login:D,header:I,sidebar:V,product:B,command:F}),W=a(14),H=a.n(W),K=function(e){return function(t){return function(a){switch(a.type){case"GET_PRODUCT":H.a.get("http://ec2-54-160-78-162.compute-1.amazonaws.com/api/api/products").then((function(t){e.dispatch({type:"SAVE_PRODUCT",product:t.data})})).catch((function(e){console.log(e)}));break;case"GET_CATEGORIES":H.a.get("http://ec2-54-160-78-162.compute-1.amazonaws.com/api/api/categories").then((function(t){e.dispatch({type:"SAVE_CATEGORIES",categories:t.data})})).catch((function(e){console.log(e)}));break;default:t(a)}}}},J=function(e){return function(t){return function(a){switch(a.type){case"GET_COMMAND":H.a.get("http://ec2-54-160-78-162.compute-1.amazonaws.com/api/api/order").then((function(t){console.log(t.data,"response"),e.dispatch({type:"SAVE_COMMAND",command:t.data})})).catch((function(e){console.log(e)}));break;default:t(a)}}}},X=function(e){return function(t){return function(a){switch(a.type){case"GET_LOGIN":var n=e.getState().login,c=n.username,o=n.password;H.a.post("http://ec2-54-160-78-162.compute-1.amazonaws.com/api/api/login",{username:c,password:o}).then((function(t){console.log(t.data.token);var a=t.data.token;window.sessionStorage.setItem("token",a),e.dispatch({type:"CHECK_IS_LOGGED"})})).catch((function(t){e.dispatch({type:"ERROR_LOGGED"}),console.log(t)}));break;default:t(a)}}}},Y=function(e){return function(t){return function(a){switch(a.type){case"EDIT_STATUS":var n=e.getState().header.status;H.a.put("http://ec2-54-160-78-162.compute-1.amazonaws.com/api/api/store/1",{status:n}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));break;case"GET_STATUS":H.a.get("http://ec2-54-160-78-162.compute-1.amazonaws.com/api/api/store/1").then((function(t){"OUVERT"===t.data.status?e.dispatch(f(t.data.status,!0)):"FERM\xc9"===t.data.status&&e.dispatch(f(t.data.status,!1))})).catch((function(e){console.log(e)}));break;default:t(a)}}}},Q=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d)(Object(U.a)(K,J,X,Y)),$=Object(U.e)(z,Q);r.a.render(c.a.createElement(i.a,{store:$},c.a.createElement(s.a,null,c.a.createElement(c.a.StrictMode,null,c.a.createElement(G,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,a){},91:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.48a39845.chunk.js.map